// This creates the table users
exports.up = async function up(sql) {
  console.log('Creating users table...');
  await sql`
    CREATE TABLE users (
      id integer PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
      username varchar(40) UNIQUE NOT NULL,
      password_hash varchar(60) NOT NULL,
			role_id integer REFERENCES roles(id) ON UPDATE CASCADE NOT NULL,
			shelter_id integer REFERENCES shelters(id) ON DELETE CASCADE
    );
  `;
};

// This removes the table users
exports.down = async function down(sql) {
  console.log('Dropping users table...');
  await sql`DROP TABLE users;`;
};
